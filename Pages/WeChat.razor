@page "/WeChat"
@using LoginExample.Data
@using LoginExample.Data.Impl
@using LoginExample.Models
@inject IUserService _service;

<hr style=" border: 2px solid white" />
    <br>

@if (_users == null)
{
    <p>
        <em>Loading...</em>
    </p>
}
else
{
    <div class="wechat-main" style="border: 3px solid white; width: 710px; text-align: center;">
        <div class="wechat-table">
            <input class="wechat-search" alt="search" type="text" placeholder="search">
                <table class="wechat table-hover" style=" width: 200px; text-align: center; margin-top: 0">
                <thead>
                <tr style="color: white">
                    <th>FriendList</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var user in _users)
                {
                    <tr>
                        <button type="button" class="btn btn-info">@user.Username</button>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    
            <div class="wechat-message">
                <div class="wechat-box" style="width: 500px; height: 22rem;background-color: white">
                </div>
                <input class="wechat-text" style="width: 500px; height: 6rem;background-color: rgba(143,143,144,0.6)">
                <button class="enter" type="button" style="width: 110px; height: 40px; border-radius: 30px;">enter</button>
            </div>
        
        
        </div>
}










@code {
    private UserData _userData = new UserDataService();
    private IList<User> _users = new List<User>();



    protected override async Task OnInitializedAsync()
    {
        _users = await _userData.getAllFriends(_service.getName());
    }


    public void getAllFriends()
    {
        
    }
}