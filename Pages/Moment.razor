@page "/Moment"
@using LoginExample.Data
@using LoginExample.Data.Impl

<hr style=" border: 2px solid white" />
<br>
<div class="Moment-main" style="height: 70vh">
    <div style="position: relative; width: 100%; height: 100%; background-color: rgba(255,255,255,0.5); text-align: center">
         @foreach(var moment in _moments)
                    {<div style="display: flex; flex-direction: row; display: flex; display: -webkit-flex; justify-content: center;">
            <img src="css/image/MomentPerson.png" width="2.5%" height="2.5%">
           
            <div style="display: flex; flex-direction: column">
                <a style="font-size: 1vw">@moment.username</a>
                <span style="font-size: 1vw">@moment.time</span>
            </div>
                     </div>
                        <span>@moment.content</span>
                                          
                    }
    </div>
</div>
<img @onclick="change" src=@url width="30%" height="30%">            
<a href="css/image/Chat.jpg" style="display: flex; text-align: center; outline: none; background: transparent; border: none; align-items: center; justify-content: center; margin-top: 1%; "><img src="css/image/EdiMoment.png" width="2%" height="2%"></a>
<hr style=" border: 2px solid white" />

@code {
    private string url = "css/image/WhiteStar.png";
    private UserData _userData = new UserDataService();
    private IList<Models.Moment> _moments = new List<Models.Moment>();

    protected override async Task OnInitializedAsync()
    {
        _moments = await _userData.getMoments();
    }

    public void change()
    {
        if (url.Equals("css/image/WhiteStar.png"))
        {
            url = "css/image/Redheart.png";
        }
        else
        {
            url = "css/image/WhiteStar.png";
        }
        
    }
    

} 